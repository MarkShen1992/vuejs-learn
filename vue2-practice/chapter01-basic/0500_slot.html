<html>
  <head>
    <title>Document</title>
  </head>

  <body>
    <div id="app">
      {{message}} {{message + message}}
      <div :id="message"></div>
      <!-- æ’æ§½åˆ†ç±»ï¼šé»˜è®¤æ’æ§½ï¼Œå…·åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½ã€‚ä½œç”¨åŸŸæ’æ§½ï¼šè¿”å›ç»„ä»¶çš„å‡½æ•°ã€‚æ ¹æ®å­ç»„ä»¶ä¼ é€’ä¸åŒçš„å€¼ï¼Œè¿”å›ä¸åŒçš„å†…å®¹ -->
      <todo-list>
        <todo-item
          @delete="handleDelete"
          v-for="item in list"
          :title="item.title"
          :del="item.del"
        >
          <!-- 2.5çš„è¯­æ³• -->
          <!-- <span slot="pre-icon">å‰ç½®å›¾æ ‡</span>
          <span slot="suf-icon">åç½®å›¾æ ‡</span> -->
          <!-- 2.6ä¹‹åçš„è¯­æ³• -->
          <template v-slot:pre-icon="{value}">
            <span>å‰ç½®å›¾æ ‡{{value}}</span>
          </template>
          <!-- <template v-slot:suf-icon>
            <span>åç½®å›¾æ ‡</span>
          </template> -->
        </todo-item>
      </todo-list>
    </div>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script>
    // https://vuejs.bootcss.com/guide/events.html
    // é€šè¿‡è¿™ç§æ–¹å¼æ³¨å†Œç»„ä»¶çš„æ—¶å€™è¦ç¡®ä¿ç»„ä»¶åå­—å…¨å±€å”¯ä¸€
    Vue.component('todo-item', {
      // æ¥æ”¶å‚æ•°éœ€è¦å®šä¹‰å±æ€§å£°æ˜
      props: {
        title: String,
        del: {
          type: Boolean,
          default: false,
        },
      },
      template: `
          <li>
            <slot name="pre-icon" :value="value"></slot>
            <span v-if="!del">{{title}}</span>
            <span v-else style="text-decoration: line-through">{{title}}</span>
            <slot name="suf-icon">ğŸ˜„</slot>
            <button v-show="!del" @click="handleClick">åˆ é™¤</button>
          </li>`,
      data: function () {
        return {
          value: Math.random(),
        }
      },
      methods: {
        handleClick() {
          console.log('handleClick')
          this.$emit('delete', this.title)
        },
      },
    })

    Vue.component('todo-list', {
      // é»˜è®¤æ’æ§½
      template: `
        <ul>
          <slot></slot>
        </ul>
      `,
      data: function () {
        return {}
      },
    })

    var vm = new Vue({
      el: '#app',
      data: {
        message: 'hello world',
        list: [
          {
            title: 'è¯¾ç¨‹1',
            del: false,
          },
          {
            title: 'è¯¾ç¨‹2',
            del: true,
          },
        ],
      },
      methods: {
        handleDelete(val) {
          console.log('handleDelete', val)
        },
      },
    })
  </script>
</html>
